MML//=========================================================================//
// Sonic 2 - Chemical Plant Zone                                              //
// Original song: Masato Nakamura                                             //
// Source (last checked 2015/11/07)                                           //
// http://www.reddit.com/r/gamedev/comments/1f9l62/visual_mml_a_text_music_editor/ca98mgr
//============================================================================//

t140

w5 l16 q12 v64 // Hi-hat
$ g r g g g r g g g r g g g r g g
g r g g g r g g g r g g g g g g;

w5 l16 q12 v96 // Kick+snare
[[<g> r r r b r <g> r r <g> r r b r <g> r]3
<g> r r r b r <g> r r <g> b r b r b b]2
$
[[<g> r r r b r <g> r r <g> r r b r <g> r]3
<g> r r r b r <g> r r <g> b r b r b b]3
[<g> r r r b r <g> r r <g> r r b r <g> r]3
<g> r r r b r <g> r b b b b b b b b
[[<g> r r r b r <g> r r <g> r r b r <g> r]3
<g> r r r b r <g> r r <g> b r b r b b]2
[<g> r r r b r <g> r r <g> r r b r <g> r]3
<g> r r r b r <g> r b b b b b b b b;

w3 l16 v64 o5 // Main chord 1
[f+ r r r f+8. f+ r4. f+ f+
r r f+ f+ r r f+ q100 g+2 q75 r
f+ r r r f+8. f+ r1.]
$
v32
[f+ r r r f+8. f+ r4. f+ f+
r r f+ f+ r r f+ q100 g+2 q75 r
f+ r r r f+8. f+ r1.]4
[d4 d4 e4 r4
r1]4
v64
[a8 g+8 a8 g+ a8 a g+8 a8 g+8]4;

w3 l16 v128 o5 // Main chord 2
[a r r r a8. a r4. a a
r r a a r r a q100 b2 q75 r
a r r r a8. a r1.]
$
v64
[a r r r a8. a r4. a a
r r a a r r a q100 b2 q75 r
a r r r a8. a r1.]4
[g+4 g+4 a4 r4
r1]4
r1
[c+8 b8 c+8 b c+8 c+ b8 c+8 b8]3;

w3 l16v16o7 // Main chord 3
[a r r r a8. a r4. a a
r r a a r r a q100 b2 q75 r
a r r r a8. a r1.]
$
v8
[a r r r a8. a r4. a a
r r a a r r a q100 b2 q75 r
a r r r a8. a r1.]4
[g+4 g+4 a4 r4
r1]4
r1
r1
v64
>[f+8 e8 f+8 e f+8 f+ e8 f+8 e8];

w3 l16v64o7 // Main chord 4
[r1]8
$
[r1]27
c+8 b8 c+8 b c+8 c+ b8 c+8 b8;

w2 l16v96o4q75 // Twiddles
[r2 r r f+ c+ e f+ r r
r1]3
r2 r r f+ c+ e f+ r r
r2 <<c+ c+> a8 b <c+>> r r
$
[r2 r r f+ c+ e f+ r r
r1
r2 r r f+ c+ e f+ r r
r2 <<c+ c+> a8 b <c+>> r r]
[r1
r8  a r a r a r a r a r a4
// TODO fix following line
//r8 ) a r( a r( a r( a r( a r( a4 ))))
f+ r2...
// TODO fix following line
  q87
  r r4.. r r4..
  // e*g+4.. d+*f+4..
  q75]
[r1]12;

w4 l8v64o3q75 // Distorted bass
[r1]3
f+16 d+4.. e e e+ e+
f+ f+4 f+ f+ f+4 f+
f+ f+4 f+ f+16 d+. e e+
f+ f+4 f+ f+ f+4 f+
e e4 e d+ d+4 d+
$
[f+ f+4 f+ f+ f+4 f+
f+ f+4 f+ f+16 d+. e e+
f+ f+4 f+ f+ f+4 f+
e e4 e d+ d+4 d+]4
e4 e+4 f+4 r4
r1
e4 e+4 f+4 r4
r2. e d+
e4 e+4 f+4 r4
r1
e4 e+4 f+4 r4
f+8 d+4. e4 e+4
f+1
[r1]
r2 a16 <a16> a16 <a16> g+16 <g+16> g16 <g16>;

w4 l8o3q75 // Clean bass
[r1]8
$
v32
[[f+ <f+ e f+16> f+ f+16 <f+ e f+>]3
e <e d+ e16> d+ d+16 <d+ c+ d+>]4
v80
e4 f4 f+4 r4
f+ <f+ e f+16> f+ f+16 <f+ e f+>
e4 f4 f+4 r4
f+ <f+ e f+16> f+ f+16 <f+ e d+>
e4 f4 f+4 r4
f+ <f+ e f+16> f+ f+16 <f+ e f+>
e4 f4 f+4 r4
[r1]4
r2 a16 <a16> a16 <a16> g+16 <g+16> g16 <g16>;

w2 l16v128o5 // Melody
[r1]7
r2. r8 f+ a
$
<c+8> b a b a8 a r4. f+ a
<c+8> b a b a8 b r a r b r <c+8.>
a f+8 f+8 r8. r2
r2. r8 f+ a
<c+8> b a b a8 a r4. f+ a
<c+8> b a b a8 b r a r b r <c+8.>
a f+8 f+8 r8. r2
r1
[r8 b r b8 a b r b b a b8 a8
<c+> a8 f+ r2.
r8 b r b8 a b r b b a b8 a8
<c+8> r2..]
r2. r c+ e f+
a8 f+ c+ e f+ r a8. f+ c+ e f+ r r
r2. r c+ e f+
a8 f+ c+ e f+ r b8 a b <c+> r4
r2. r c+ e f+
a8 f+ c+ e f+ r a8. f+ c+ e f+ r r
r2. r c+ e f+
// TODO fix following line
  a8 b8 <c+4 e4
  r1
  //f+2*f2*
  f+2.
// TODO fix following line
  c+ c+ >a r f+ a8
  r1 r2...
  //f+2*f2*f+2...
  f+ a//;

